INTSourceChangelist:2219541
Availability:Public
Title: スケルタルメッシュ ソケット
Crumbs:%ROOT%, Engine, Engine/Content, Engine/Content/Types/SkeletalMeshes
Description:武器、エフェクトなどのアタッチメント ポイントとして使用するスケルタルメッシュに追加可能なロケーター



[TOC(start:2)]



## 概要
[INCLUDE:Shared/Glossary/S/#Glossary_socket]


## ソケットを作成する
スケルタルメッシュにソケットを追加するには、最初にペルソナ (Persona) でメッシュを開きます。これを行うには、**コンテンツ ブラウザ** 内でスケルタルメッシュを **ダブルクリック** します。

![](Persona_Skeleton_Socket.png)(w:800)

ソケットは [スケルトンツリー] パネル内のジョイントに簡単に追加することができます。これは、適切なジョイント上で **右クリック** し、コンテキスト メニューから **Add Socket** を選んで行います。

![](AddSocket.png)

ソケットは、以下の画像のように赤いソケット アイコンとしてボーン名の隣に表示されます。

![](SocketsIcon.png)

ソケットに名前を付けるとただちに作成され、そのプロパティが **[Persona Details]** パネルに表示されます。



## ソケットを編集する

ソケットは、ペルソナ (Persona) 内で **スケルトンツリー**、**[詳細]** パネル、 **[Viewport]** ウィンドウを使用して直接編集することができます。

**スケルトンツリー** 内でソケットをクリックすると、ビューポートで回転ウィジェット、平行移動ウィジェットが利用できるようになります。こうしたウィジェットを使用して、ボーンに対してソケットを再配置できます。

![](EditingSockets.png)(w:500)

**[詳細]** パネルを使用して、ソケットの場所を数値的に編集することもできます。

![](SocketDetails.png)(w:500)





##ソケットを表示する
スケルトンツリーの階層にあるピンク色のソケット アイコンの他に、**[Show]** メニューを使用して、 **[ソケット]**を選択することでメッシュ上で直接ソケットを表示することができます。 

![](ShowSockets.png)

![](SocketVisible.png)


##ソケットを使用する

アクタをスケルタルメッシュのソケットにアタッチするには、ニーズに応じていくつかの方法があります。

| **ニーズに応じたアタッチメントのタイプ** | **方法** |
| --- | --- |
| 永続的アタッチメント常にスケルタルメッシュの一部となる。 | ペルソナ(Persona) から行い、スケルタルメッシュの一部として保存されます。**スケルトンツリー**、**コンテンツ ブラウザ**、**ビューポート** を使用します。以下の  [アセットのドラッグ & ドロップ](#永続的アタッチメント) を参照してください。 |
| レベル内に配置されたスケルタルメッシュ上でインスタンス毎にアタッチ | **コンテンツ ブラウザ** を使用してビューポート内のメイン エディタで行うことができます。以下の [ソケットのスナッピング](#ソケットのスナッピング) および [コンテキストメニューを使用したアタッチメント](#コンテキストメニューを使用したアタッチメント) を参照してください。 |
| ゲームプレイに基づきスナッピングする。 | これは、通常、ブループリントによって行います。以下のブループリントのアタッチメントを参照してください。 |



### 永続的アタッチメント

アクタをソケットに永続的にアタッチし、常にスケルタルメッシュの一部になるようにするには、ペルソナ(Persona) から行います。**スケルトンツリー** でメッシュや他のアセットをドラッグし、ソケットに直接ドロップすることができます。以下のアセットのタイプに対応しています。

* スタティック メッシュ
* スケルタル メッシュ
* パーティクル システム



![](DragAndDrop.png)(w:700)


### ソケットのスナッピング

Socket Snapping (ソケットのスナッピング) を使用してエディタ内でスケルタルメッシュのソケットをアクタにアタッチすることができます。この方法はレベル内に配置済みの特定のスケルタルメッシュに対してアタッチメントする必要がある場合に有用です。

まず、メインエディタのツールバーのビューメニューからソケットのスナッピングを有効にします。

![](ViewModeSocketSnapping.png)

ビューポートがすべてのソケットが見えるようにレンダリングします。アタッチしたいアクタを選択します。アタッチしたいソケット上でクリックします。

![](SocketSnappingViewport.png)

これでアクタがソケットの位置と回転に存在し、ターゲットソケットのスケルタルメッシュ コンポーネントを所有するアクタにアタッチされます。

![](SocketSnapped.png)


### コンテキスト メニューを使用したアタッチメント
 
メインエディタのビューポート内のコンテキストメニューからアクタをスケルタルメッシュのソケットにアタッチすることもできます。この方法では、Socket Snapping (ソケットのスナッピング) を有効にする必要はなく、アタッチしたいソケット名がわかっていれば、アタッチメントを非常に速く行うことができます。 ソケットのスナッピング手法と同様に、レベル内に配置済みのスケルタルメッシュをアタッチするのに最適な方法です。

アタッチしたいメッシュ上で **右クリック** します。以下を選択します。 **Attach To > <Name of your target Skeletal Mesh>**:

![](AttachToMenu.png)(w:800)

表示されるフライアウト メニューから必要なソケット名を選択します。

![](ChooseSocket.png)

アクタがソケットの位置にスナップします。

![](SocketSnapped.png)


###ブループリントを使用したアタッチメント

何らかの方法でゲームプレイによって決まるアタッチメントをスケルタルメッシュが受け取るようにしたい場合が必ずあることでしょう。たとえば、キャラクターが武器を偶然見つけたときにそれを手にとる必要が生じるかもしれません。これは、ブループリントを使用して簡単に行うことができます。これを適用する方法は非常に多く存在するため、ここでは簡単に説明します。単に有用なノードをポイントし、そこからニーズに応じていつどのようにしてアタッチメントを実現するかについて必要なロジックのタイプを作成します。ブループリントに関する詳細は以下を参照してください。 [ブループリントのドキュメントのページ](Engine/Blueprints)


* Attach Actor to Actor
* Attach Actor to Component
* Attach To


![](AttachActorToActor.png) ![](AttachActorToComponent.png) ![](AttachTo.png)