INTSourceChangelist:2087493
Availability:Public
Title:法線マップ作成ガイド
Crumbs:%ROOT%, Engine, Engine/Content, Engine/Content/Types, Engine/Content/Types/Textures
Description:高品質なシェーディングを作成する XNormal の使用ガイド

このワークフローは XNormalを使用して、以前のワークフローよりもかなり高品質なシェーディングを生成する 
法線マップをベイクします。過去に使用した法線マップのワークフローは今なお機能しますが、 
高品質のシェーディングをお求めの場合、現時点では、このワークフローの使用が最善策です。新ワークフローは、誤ったシェーディングに対処する必要がないため、 
より少ないジオメトリのサポートが可能となります。

二通りあるどちらかの方法で、新手法を利用します。一つ目の方法は、モデルにシングル スムージング グループを作成します。これによって、 
非常にグラディエントがきついけれども、UV エッジには少ないシーム（継ぎ目）の法線マップが作成されます。二つ目の方法は、UV シームに沿って 
スムージング グループを分けます。これによって、UV エッジにはいくつかのシーム（継ぎ目）があるものの、より平面な法線マップが作成されます。

## ワークフロー

1. 最初の手順は、ご使用のモデルが 1 つのスムージンググループで構成されていることを確認します。また、モディファイアを使用したモデルの三角分割 
も役に立ちます。これにより三角形がアプリケーションによって変更 
される心配がありません。

1. これらの設定を使用し XNormal へローポリモデルをエクスポート

	![FBX Settings](fbx_settings.png)

	重要な点は、スムージンググループ、タンジェント、そして従法線です。

1. XNomal へローポリモデルを読み込む際は、**Use exported normals** が有効になっていることを確認してください。

	![XNormal Settings](xnormal_settings.png)

1. 法線マップをベイクした後、前回と同様の FBX 設定を活用してアンリアルへローポリモデルをエクスポートします。

1. アンリアルへモデルをインポートする際に、**Explicit Normals** を有効にし、必ず **Import Tangents** を無効にしてください。

	![Import Settings](import_settings.png)


## 結果

この手法を使用したメッシュの例がこちらです。以前よりもはるかに少ないポリゴン数であることがわかります。 
しかし面取りや細分のサポートはありません。

![Mesh Wireframe](wireframe.png)

こちらが新しい手法を使用したモデルです。

![New Shading](shading_good.jpg)

それに対しこちらは古い手法を使用したモデルです。

![Old Shading](shading_old.png)
