INTSourceChangelist:2474057
Availability:Public
Title:ブループリントでコンポーネントを追加する方法
Crumbs: %ROOT%, Gameplay, Gameplay\HowTo\AddingComponents
Description:ブループリントにコンポーネントを追加するための操作ガイド 

[TOC (start:2 end:2)]

## 概要

このページでは、 **ブループリント** への **コンポーネント** の追加方法、ブループリント内でのコンポーネントのアクセスと修正方法を説明します。説明用に、 **スタティックメッシュ** コンポーネント (茂み)、 **オーディオ** コンポーネント (炎のサウンド エフェクト)、 **パーティクル エフェクト** (炎を可視化するエフェクト) の3 つのコンポーネントで構成される Burning Bush (燃える茂み) のブループリントのサンプルを作成します。 

## ブループリントにコンポーネントを追加する

 _この例では、 **Starter Content が含まれる Blueprint Third Person Template** を使用します。_

ブループリント アクタにコンポーネントを追加するステップは、以下になります。 

1.	**「Game/Props」** フォルダの **コンテンツ ブラウザ** で **SM_Bush** アセットを **右クリック** し、**[Create Blueprint Using]** を選択します。 

	![](Components1.jpg)

	すると、このアセットをベースに **ブループリント** が作成され、それが **コンポーネント** としてブループリントに追加されます。 

1.	**[Create Blueprint]** ウィンドウが開いたら、 **[OK]** をクリックします。 

1.	**「Game/Props」** フォルダの **コンテンツ ブラウザ** で **SM_Bush** ブループリントを開きます。 

1.	**[ブループリント エディタ]** ウィンドウの右上にある **[Components]** タブをクリックします。 

	![](Components2.png)

	Burning Bush アクタにその Bush が **コンポーネント** として追加されているのが分かります。

1.	**[Components]**タブで、 **[Components]** ウィンドウの **[Add Component]** ボタンをクリックします。 

	![](Components3.png)

	このウィンドウで **コンポーネント** をブループリントに追加できるようになります。この場合だと、炎とオーディオ エフェクトを追加できます。 

1.	**[Audio]** をクリックしてオーディオ コンポーネントを追加し、 **[Components]** ウィンドウの下に追加された **[Details]** ウィンドウに注目してください。 

	![](Components4.png)

	ここで **コンポーネント** に関する詳細をしてします。追加したコンポーネントによって、定義可能なオプションも異なるものが表示されます。ここでは、オーディオ コンポーネントが使う実際のサウンド アセットを定義していきます。 

1.	**[Details]** パネルで、 **[Sound]** の下の **[None]** ボックスをクリックし、 **Fire01_Cue** アセットを選択します。 

	![](Components5.png)

	これで 茂みから聞こえてくる炎のサウンド エフェクトが追加されました。 

1.	**[Add Component]** ボタンをもう一度押して、リストをスクロールし **Particle System** コンポーネントを追加します。 

	![](Components6.png)

1.	**パーティクルエフェクト** の **[Details]** パネル内の **[Template]** の隣にある **[None]** ボックスをクリックして、 **P_Fire** を選択します。 

	![](Components7.png)

1.	ブループリントを終了することができます。ウィンドウの左上の **[Compile]** ボタンをクリックします。 

	![](Components8.png)

	**コンパイル** 後、緑のチェックが表示されれば、正常に行われたことを意味します。 

	![](Components9.png)

1.	ブループリントを終了し「 **Game/Props** 」フォルダの **コンテンツ ブラウザ** で **SM_Bush** をレベルへドラッグします。 

	![](Components10.png)

1.	**[Play]** ボタンをクリックして、エディタで再生します。 

茂みからは炎があがり、炎のオーディオ エフェクトが再生されていることが分かります。オーディオは茂みから遠ざかると徐々に小さくなり、茂みに近づくと徐々に大きくなります。 

3 つの **コンポーネント** で構成される **ブループリント アクタ** を作成しました。レベル内に茂みを置いて、その茂みの中にオーディオそして炎を配置することも可能ですが、 3 つのコンポーネントで構成されるブループリントを作成する方が、ばらばらの要素を持つよりも遥かに管理がしやすいです。 


## ブループリントのコンポーネントで作業する

ブループリント内の各コンポーネントはブループリント自体から、または外部のブループリントからのアクセスと修正が可能です。例えば、 Car ブループリントと Engine ブループリントというコンポーネントがあった場合、 Engine ブループリント内の値を調整すれば Car ブループリントが行った方法で修正ができます。 

ブループリントの **Graph** タブ上で、このページで使った燃える茂みのサンプルを使います。 

![](Components11.png)

**[MyBlueprint]** ウィンドウを見ると、コンポーネントがそれぞれ [Components] セクションに設定されていることが分かります。

![](Components12.png)

これらのコンポーネントの 1 つ 1 つをグラフ内に配置し、ブループリント スクリプトによるアクセスと修正が可能です (上記を参照)： 

![](Components13.png)

ここで Burning Bush Bluepring Actor の入力を有効にし、プレイヤーがキーの押下で修正できるようにします。**F** Key イベントを追加します。これを押すと、パーティクル システムとオーディオ コンポーネントの有効化と無効化が切り替わります (キーを押した時にオンまたはオフになります)。 


## 追加のリソース

ブループリントにコンポーネントを追加することに関係するコンセプトを、以下のリンクで参照することができます。

*	[ブループリント ユーザーガイド](Engine/Blueprints/UserGuide)
*	[ブループリントでコンポーネントを使用する](Engine/Blueprints/UserGuide/Components)
*	[ブループリント グラフを操作する](Engine/Blueprints/UserGuide/Graphs)








